{{ block title }}
Round Results
{{ endblock }}
{{ block content }}
<style>
    th,
    td {
        border: 1px solid black;
        height: 10px;
        text-align: center;
    }
</style>

<p>
Based on the algorithm and players' deicisons,
the final space allocation is:
</p>
<br>
Your payoff is: {{payoff}}

<h1>Your final choice</h1>
<table id="final-pref-table">
    <tr>
        <th>Space</th>
        <th>Term</th>
        <th>Payoff</th>
    </tr>
    {{ for space, term, payoff in preference }}
    <tr>
        <td>{{space}}</td>
        {{ if term == 0}}
        <td>-</td>
        {{ else }}
        <td>+</td>
        {{ endif }}
        <td>{{payoff}}</td>
    </tr>
    {{ endfor }}
</table>

<h1>Final Allocation</h1>
<table>
    <tr>
        <th>Player ID</th>
        <th>Space ID</th>
        <th>Term</th>
    </tr>
    {{ for p, s, t, _ in result }}
    <tr draggable="true" ondragstart="dragstart()" ondragover="dragover()">
        <td>{{p}}</td>
        <td>{{s}}</td>
        {{ if t == 0}}
        <td>-</td>
        {{ else }}
        <td>+</td>
        {{ endif }}
    </tr>
    {{ endfor }}
</table>

<p>
Your payoff in round {{player.round_number}} is: {{player.payoff}}. <br>
Please press next to move to the next round.
</p>

{{ next_button }}

{{ endblock }}
