{{ block title }}
Matching Market
{{ endblock }}
{{ block content }}
<style>
    th,
    td {
        border: 1px solid black;
        height: 10px;
        text-align: center;
    }
</style>

This is round {{player.round_number}}
<br>
Number of participants: {{group_size}}

<table id="mytable">
    <tr>
        <th>Space</th>
        <th>Term</th>
    </tr>
    {{ for s, t in contracts }}
    <tr draggable="true" ondragstart="dragstart()" ondragover="dragover()">
        <td>{{s}}</td>
        <td>{{t}}</td>
    </tr>
    {{ endfor }}
</table>

{{ next_button }}

<script>
    var row;
    function dragstart() {
        row = event.target;
    }
    function dragover() {
        var e = event;
        e.preventDefault();

        let children = Array.from(e.target.parentNode.parentNode.children);
        if (children.indexOf(e.target.parentNode) > children.indexOf(row))
            e.target.parentNode.after(row);
        else
            e.target.parentNode.before(row);
    }
</script>

{{ endblock }}